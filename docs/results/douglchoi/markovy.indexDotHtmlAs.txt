b'<html xmlns="http://www.w3.org/1999/xhtml">\n <head>\n  <title>\n   Markovy\n  </title>\n  <link href="css/styles.css" rel="stylesheet" type="text/css"/>\n  <script src="js/jquery-2.1.4.min.js" type="text/javascript">\n  </script>\n  <script src="js/markovy.js" type="text/javascript">\n  </script>\n  <script type="text/javascript">\n   $(document).ready(function() {\n\n// node.js server hosted on Heroku\nvar twitter_proxy_url = "https://sleepy-wildwood-4574.herokuapp.com/tweets/";\n\n// Loading the tweets\n$("#load_tweets_button").click(function(e) {\n\tvar current_time = Date.now();\n\t$("#load_tweets_status").text("Loading tweets...");\n\t\n\tvar screen_name = $("#twitter_screen_name").val();\n\t\n\tif (screen_name != null &amp;&amp; screen_name.length &gt; 0) {\n\t\t// ask for tweets from twitter proxy server\n\t\t$.ajax({\n\t\t\turl:twitter_proxy_url + screen_name,\n\t\t\tmethod:"GET",\n\t\t\tsuccess: function(e) {\n\t\t\t\tif (e[0] &amp;&amp; e[0].code == 34) {\n\t\t\t\t\t$("#load_tweets_status").text("Cannot find this user.");\n\t\t\t\t} else {\n\t\t\t\t\tvar result = e\n\t\t\t\t\t\t.join(". ")\n\t\t\t\t\t\t.replace(/(^|\\s)#(\\w*[a-zA-Z_]+\\w*)/g, " ") // replace hashtags\n\t\t\t\t\t\t.replace(/(^|\\s)@(\\w*[a-zA-Z_]+\\w*)/g, " ") // replace @ replies\n\t\t\t\t\t\t.replace(/(https?:\\/\\/[^\\s]+)/g, ""); // remove urls\n\t\t\t\t\t$("#training_text").val(result);\n\t\t\t\t\t\n\t\t\t\t\t$("#load_tweets_status").text(e.length + " tweets loaded in " + (Date.now() - current_time) + " ms.");\n\t\t\t\t}\n\t\t\t},\n\t\t\terror: function(e) {\n\t\t\t\t$("#load_tweets_status").text("Could not connect to Twitter proxy server.");\n\t\t\t}\n\t\t});\n\t}\n});\n\n// Training the Markov model\n$("#train_button").click(function(e) {\n\tvar current_time = Date.now();\n\t$("#train_status").text("Training...");\n\t\n\tvar source = $("#training_text").val();\n\ttrain(source);\n\t\n\t$("#train_status").text("Training completed in " + (Date.now() - current_time) + " ms.");\n});\n\n// Generate the text\n$("#generate_button").click(function(e) {\n\tvar length = $("#max_generate_length").val();\n\tvar text = generate_text(length);\n\t$("#generated_text").val(text);\n\n});\n\n// Clear training text\n$("#clear_button").click(function(e) {\n\t$("#training_text").val("");\n});\n\n/*\n// This creates a table to display the transition matrix...\n// However, it is quite slow due to many, many rows for large\n// training data sets.\n$("#show_matrix_button").click(function(e) {\n\t// show the transition matrix\n\tvar m_table = $("#t_matrix_container");\n\tm_table.html("");\n\n\t// first header row\n\tvar header = $("&lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;").appendTo(m_table);\n\n\tfor (var i = 0; i &lt; bigram_set.length; i++) {\n\t\t$("&lt;td&gt;&lt;/td&gt;").text(bigram_set[i]).appendTo(header);\n\t}\n\n\t// inner rows\n\tfor (var j = 0; j &lt; word_set.length; j++) {\n\t\tvar inner_row = $("&lt;tr&gt;&lt;/tr&gt;").appendTo(m_table);\n\t\t$("&lt;td&gt;" + word_set[j] + "&lt;/td&gt;").appendTo(inner_row);\n\t\tfor (var i = 0; i &lt; bigram_set.length; i++) {\n\t\t\tvar count = t_matrix[i][j];\n\t\t\tif (!count) {\n\t\t\t\tcount = 0;\n\t\t\t}\n\t\t\t$("&lt;td&gt;" + count + "&lt;/td&gt;").appendTo(inner_row);\n\t\t}\n\t}\n});\n*/\n\n});\n  </script>\n </head>\n <body>\n  <div>\n   <input id="twitter_screen_name" placeholder="Twitter Screen Name" type="text" value="BarackObama"/>\n   <button id="load_tweets_button">\n    Load Tweets\n   </button>\n   <em id="load_tweets_status">\n   </em>\n  </div>\n  <div class="training_text">\n   <h1>\n    Training Text\n   </h1>\n   <textarea id="training_text">The dog jumped over the fence. \nThe dog jumped over the tree. \nThe dog jumped over the doghouse.\nThe dog jumped over the plate.\nThe dog jumped over the chair.\nThe cat jumped over the log.\nThe cat jumped over the table.\nThe cat jumped over the moon.\nThe cat jumped over the cow.\nThe cat jumped over the car.</textarea>\n   <div>\n    <button id="train_button">\n     Train\n    </button>\n    <button id="clear_button">\n     Clear\n    </button>\n    <em id="train_status">\n    </em>\n   </div>\n  </div>\n  <!--\n<div class="t_matrix_container">\n\t<h1>Transition Matrix</h1>\n\t<table id="t_matrix_container" border="1" cellspacing="0"></table>\n\t<div><button id="show_matrix_button">Show Transition Matrix (slow)</button></div>\n</div>\n-->\n  <div class="generated_text">\n   <h1>\n    Generated Text\n   </h1>\n   <textarea id="generated_text"></textarea>\n   <div>\n    <label for="max_generate_length">\n     Maximum Length:\n    </label>\n    <input id="max_generate_length" type="number" value="100"/>\n    <button id="generate_button">\n     Generate\n    </button>\n   </div>\n  </div>\n </body>\n</html>'